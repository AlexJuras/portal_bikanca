<!DOCTYPE html>
<html>
<head>
    <title>Teste Final - YouTube Embed</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5; 
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
        }
        .video-section { 
            margin: 30px 0; 
            border: 1px solid #ddd; 
            padding: 20px; 
            border-radius: 8px; 
        }
        .video-container { 
            position: relative; 
            width: 100%; 
            height: 400px; 
            background: #000; 
            margin: 15px 0;
        }
        iframe { 
            width: 100%; 
            height: 100%; 
            border: none; 
        }
        .status { 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 4px; 
        }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé• Teste Final - YouTube Embed</h1>
        <p>Testando diferentes configura√ß√µes de embed do YouTube para o v√≠deo: <strong>YE7VzlLtp-4</strong></p>
        
        <div class="video-section">
            <h2>1. YouTube No-Cookie (Vers√£o atual do Laravel)</h2>
            <div class="video-container">
                <iframe
                    id="iframe-nocookie"
                    src="https://www.youtube-nocookie.com/embed/YE7VzlLtp-4?rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autoplay=0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen
                    referrerpolicy="strict-origin-when-cross-origin"
                ></iframe>
            </div>
            <div id="status-nocookie" class="status info">Carregando...</div>
        </div>

        <div class="video-section">
            <h2>2. YouTube Padr√£o (Fallback)</h2>
            <div class="video-container">
                <iframe
                    id="iframe-standard"
                    src="https://www.youtube.com/embed/YE7VzlLtp-4?rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autoplay=0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen
                    referrerpolicy="strict-origin-when-cross-origin"
                ></iframe>
            </div>
            <div id="status-standard" class="status info">Carregando...</div>
        </div>

        <div class="video-section">
            <h2>3. Thumbnail de Fallback</h2>
            <div style="text-align: center;">
                <img 
                    id="thumbnail"
                    src="https://img.youtube.com/vi/YE7VzlLtp-4/hqdefault.jpg" 
                    alt="Thumbnail YouTube"
                    style="max-width: 480px; height: auto; cursor: pointer; border: 2px solid #ddd;"
                    onclick="window.open('https://www.youtube.com/watch?v=YE7VzlLtp-4', '_blank')"
                />
                <div id="status-thumbnail" class="status info">Carregando thumbnail...</div>
            </div>
        </div>

        <div class="video-section">
            <h2>4. Diagn√≥stico</h2>
            <div id="diagnostic" class="status info">
                <p><strong>Executando diagn√≥stico...</strong></p>
            </div>
        </div>
    </div>

    <script>
        // Configurar event listeners
        function setupEventListener(id, statusId, type) {
            const element = document.getElementById(id);
            const status = document.getElementById(statusId);
            
            element.onload = function() {
                status.className = 'status success';
                status.innerHTML = `‚úÖ ${type} carregou com sucesso!`;
                console.log(`‚úÖ ${type} (${id}) carregou`);
            };
            
            element.onerror = function() {
                status.className = 'status error';
                status.innerHTML = `‚ùå ${type} falhou ao carregar`;
                console.log(`‚ùå ${type} (${id}) falhou`);
            };
        }

        // Configurar todos os elementos
        setupEventListener('iframe-nocookie', 'status-nocookie', 'YouTube No-Cookie');
        setupEventListener('iframe-standard', 'status-standard', 'YouTube Padr√£o');
        setupEventListener('thumbnail', 'status-thumbnail', 'Thumbnail');

        // Diagn√≥stico do sistema
        setTimeout(function() {
            const diagnostic = document.getElementById('diagnostic');
            diagnostic.innerHTML = `
                <p><strong>Informa√ß√µes do Sistema:</strong></p>
                <ul>
                    <li><strong>User Agent:</strong> ${navigator.userAgent}</li>
                    <li><strong>Cookies:</strong> ${navigator.cookieEnabled ? 'Habilitados' : 'Desabilitados'}</li>
                    <li><strong>Online:</strong> ${navigator.onLine ? 'Sim' : 'N√£o'}</li>
                    <li><strong>Protocol:</strong> ${window.location.protocol}</li>
                    <li><strong>Referrer:</strong> ${document.referrer || 'Nenhum'}</li>
                </ul>
            `;
        }, 2000);

        // Testar conectividade
        fetch('https://www.youtube.com')
            .then(response => {
                console.log('‚úÖ Conectividade com YouTube:', response.status === 200 ? 'OK' : 'Limitada');
            })
            .catch(error => {
                console.log('‚ùå Erro de conectividade:', error.message);
            });
    </script>
</body>
</html>
